smooth_train_qso = smooth(train_qso, lambdas);
smooth_test_qso = smooth(test_qso, lambdas);
k = 3;

f_left_errors = 0;
for j = 1:size(smooth_train_qso)
    f_right = smooth_train_qso(j,:);

    dis_list = zeros(size(smooth_train_qso,1),1);
    for i = 1:size(smooth_train_qso,1)
        dis_list(i,1) = distance(smooth_train_qso(i,:), f_right);
    end

    [V I] = sort(dis_list);

    den = 0;
    num = 0;
    for i = 1:k
        den = den + ker(V(i)/V(1)) * smooth_train_qso(I(i),1:50);
        num = num + ker(V(i)/V(1));
    end

    f_left = den/num;
end